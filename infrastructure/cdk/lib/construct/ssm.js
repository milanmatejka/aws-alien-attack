"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SSM = void 0;
const cdk = require("@aws-cdk/core");
const ssm = require("@aws-cdk/aws-ssm");
/**
 * System Manager.
 */
class SSM extends cdk.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        this.ssmParameters = [];
    }
    listParameters() {
        return this.ssmParameters.map(p => p.parameterName);
    }
    addParameter(param) {
        const ssmParam = this.createParameter(param);
        this.ssmParameters.push(ssmParam);
        return ssmParam;
    }
    createParameter(param) {
        return new ssm.StringParameter(this, param.id, {
            description: param.description || '',
            parameterName: param.name,
            stringValue: param.value,
        });
    }
}
exports.SSM = SSM;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic3NtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFxQztBQUNyQyx3Q0FBd0M7QUFZeEM7O0dBRUc7QUFDSCxNQUFhLEdBQUksU0FBUSxHQUFHLENBQUMsU0FBUztJQUlsQyxZQUFZLEtBQW9CLEVBQUUsRUFBVSxFQUFFLEtBQWU7UUFDekQsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztRQUhKLGtCQUFhLEdBQTBCLEVBQUUsQ0FBQztJQUkzRCxDQUFDO0lBRU0sY0FBYztRQUNqQixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFTSxZQUFZLENBQUMsS0FBa0I7UUFDbEMsTUFBTSxRQUFRLEdBQXdCLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFbEMsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVPLGVBQWUsQ0FBQyxLQUFrQjtRQUN0QyxPQUFPLElBQUksR0FBRyxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTtZQUMzQyxXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVcsSUFBSSxFQUFFO1lBQ3BDLGFBQWEsRUFBRSxLQUFLLENBQUMsSUFBSTtZQUN6QixXQUFXLEVBQUUsS0FBSyxDQUFDLEtBQUs7U0FDM0IsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUNKO0FBMUJELGtCQTBCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNkayBmcm9tICdAYXdzLWNkay9jb3JlJztcbmltcG9ydCAqIGFzIHNzbSBmcm9tICdAYXdzLWNkay9hd3Mtc3NtJztcblxuZXhwb3J0IGludGVyZmFjZSBTU01Qcm9wcyB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaW5nUGFyYW0ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogU3lzdGVtIE1hbmFnZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBTU00gZXh0ZW5kcyBjZGsuQ29uc3RydWN0IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3NtUGFyYW1ldGVyczogc3NtLlN0cmluZ1BhcmFtZXRlcltdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogY2RrLkNvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFNTTVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGxpc3RQYXJhbWV0ZXJzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3NtUGFyYW1ldGVycy5tYXAocCA9PiBwLnBhcmFtZXRlck5hbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRQYXJhbWV0ZXIocGFyYW06IFN0cmluZ1BhcmFtKTogc3NtLlN0cmluZ1BhcmFtZXRlciB7XG4gICAgICAgIGNvbnN0IHNzbVBhcmFtOiBzc20uU3RyaW5nUGFyYW1ldGVyID0gdGhpcy5jcmVhdGVQYXJhbWV0ZXIocGFyYW0pO1xuICAgICAgICB0aGlzLnNzbVBhcmFtZXRlcnMucHVzaChzc21QYXJhbSk7XG5cbiAgICAgICAgcmV0dXJuIHNzbVBhcmFtO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUGFyYW1ldGVyKHBhcmFtOiBTdHJpbmdQYXJhbSk6IHNzbS5TdHJpbmdQYXJhbWV0ZXIge1xuICAgICAgICByZXR1cm4gbmV3IHNzbS5TdHJpbmdQYXJhbWV0ZXIodGhpcywgcGFyYW0uaWQsIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwYXJhbS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgIHBhcmFtZXRlck5hbWU6IHBhcmFtLm5hbWUsXG4gICAgICAgICAgICBzdHJpbmdWYWx1ZTogcGFyYW0udmFsdWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdfQ==